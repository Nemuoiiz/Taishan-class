<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.css' />
    <title>GSAP</title>

    <style>
        body {
            padding: 50px 0;
        }

        .box1,
        .box2,
        .box3,
        .box4,
        .box5,
        .box6,
        .box7,
        .box8,
        .box9,
        .box10,
        .box11,
        .box12,
        .box13,
        .box14,
        .box15,
        .box16,
        .box17,
        .box18,
        .box19,
        .box20,
        .box21,
        .box22,
        .box23,
        .box24,
        .box25,
        .box26,
        .box27 {
            width: 50px;
            height: 50px;
            margin: 5px;
            background: rgb(175, 216, 213);
        }

        hr {
            margin: 50px 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>ğŸ’  timeline - æ™‚é–“è»¸</h2>
        <ul>
            <li>timeline æ˜¯ä¸€ç¨®ç”¨ä¾†çµ„ç¹”å‹•ç•«çš„æ–¹å¼ï¼Œå®ƒæ˜¯ tween æˆ–å…¶ä»– timeline çš„å®¹å™¨ï¼Œä¹Ÿå°±æ˜¯èªªå¯ä»¥ç®¡ç†å‹•ç•«æ’åºçš„å·¥å…·ã€‚</li>
            <li>timeline ä¹Ÿæœ‰è‡ªå·±çš„ vars ç‰©ä»¶å¯ä»¥è¨­å®šï¼Œæœ‰äº›å±¬æ€§èˆ‡ tween ç›¸åŒã€‚</li>
            <li>timeline å¯ä»¥ä½¿ç”¨ tween çš„æ–¹æ³•ï¼Œä¹Ÿæœ‰è‡ªå·±ç¨ç‰¹çš„æ–¹æ³•ã€‚</li>
        </ul>

        <hr>

        <h3>1ï¸âƒ£ tween èˆ‡ timeline å·®ç•°</h3>
        <h4>ä½¿ç”¨ tween è£½ä½œä½‡åˆ—å‹•ç•«</h4>
        <div class="box1"></div>
        <div class="box2"></div>
        <div class="box3"></div>
        <h4>ä½¿ç”¨ timeline è£½ä½œä½‡åˆ—å‹•ç•«</h4>
        <div class="box4"></div>
        <div class="box5"></div>
        <div class="box6"></div>

        <hr>

        <h4>2ï¸âƒ£ defaults è¨­å®š</h4>
        <p>è£œé–“å‹•ç•«å±¬æ€§ç›¸åŒæ™‚ï¼Œæœƒæœ‰é‡è¤‡ä¸å¿…è¦çš„ç¨‹å¼ç¢¼</p>
        <div class="box7"></div>
        <div class="box8"></div>
        <div class="box9"></div>
        <p>ä½¿ç”¨ defaultsï¼Œæå–ç›¸åŒçš„ç¨‹å¼å‡ºå»ï¼Œè®“ç¨‹å¼æ›´ç°¡æ½”</p>
        <div class="box10"></div>
        <div class="box11"></div>
        <div class="box12"></div>

        <hr>

        <h4>3ï¸âƒ£ timeline çš„ vars ç‰©ä»¶è¨­å®š</h4>
        <p>vars å¯ä»¥è¨­å®šä¸€äº›èˆ‡è£œé–“å‹•ç•«ç›¸åŒçš„å±¬æ€§</p>
        <div class="box13"></div>
        <div class="box14"></div>
        <div class="box15"></div>

        <hr>

        <h4>4ï¸âƒ£ timeline çš„æ–¹æ³•</h4>
        <div class="box16"></div>
        <div class="box17"></div>
        <div class="box18"></div>

        <button id="play">æ’­æ”¾</button>
        <button id="pause">æš«åœ</button>
        <button id="resume">æ¢å¾©</button>

        <hr>

        <h4>5ï¸âƒ£ timeline çš„ä½ç½® (position)</h4>
        <p>ä½¿ç”¨ç¬¬ä¸‰åƒæ•¸è¨­å®š</p>
        <div class="box19"></div>
        <div class="box20"></div>
        <div class="box21"></div>
        <div class="box22"></div>
        <div class="box23"></div>
        <div class="box24"></div>

        <button id="play2">æ’­æ”¾</button>
    </div>


    <!-- jquery -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js'></script>
    <!-- bootstrap -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js'></script>
    <!-- å¼•å…¥ GSAP -->
    <script src="./gsap/gsap.js"></script>

    <script>
        // å¯ä»¥ç”¨ delay å®Œæˆä½‡åˆ—å‹•ç•«ï¼Œä¾·é™æ€§ï¼šä¿®æ”¹ä¸€å€‹å…¶ä»–ä¹Ÿè¦é€£å¸¶èª¿æ•´
        gsap.to('.box1', { x: 500, duration: 1 })
        gsap.to('.box2', { x: 500, duration: 1, delay: 1 })
        gsap.to('.box3', { x: 500, duration: 1, delay: 2 })

        // å»ºç«‹æ™‚é–“è»¸çš„å®¹å™¨ï¼Œç”¨ä¾†æ”¾ç½®å…¶ä»– tween æˆ– timeline
        // ä¸éœ€è¦è€ƒæ…®æ•´é«” delay çš„èª¿å‹•ï¼Œå¯ä»¥å¾ˆå½ˆæ€§çš„å®‰æ’å‹•ç•«å‡ºå ´çš„é †åº
        const tl1 = gsap.timeline()
        tl1
            .to('.box4', { x: 500, duration: 1 })
            .to('.box5', { x: 500, duration: 1, delay: 3 })
            .to('.box6', { x: 500, duration: 1, delay: 5 })


        const tl2 = gsap.timeline()
        tl2
            .to('.box7', { x: 500, duration: 1, ease: 'back' })
            .to('.box8', { x: 750, duration: 1, ease: 'back' })
            .to('.box9', { x: 1000, duration: 1, ease: 'back' })

        const tl3 = gsap.timeline({
            defaults: {
                duration: 1,
                ease: 'back',
            }
        })
        tl3
            .to('.box10', { x: 500 })
            .to('.box11', { x: 750 })
            .to('.box12', { x: 1000, duration: 5 })   // .box12 çš„ duration è¦†è“‹ defaults è¨­å®š


        const tl4 = gsap.timeline({
            defaults: {
                duration: 1,
                ease: 'back',
            },
            // æŒ‡æ•´æ¢æ™‚é–“è»¸çš„å±¬æ€§è¨­å®š
            repeat: 1,
            // yoyo: true,
            paused: false,
            repeatRefresh: true,
            // æ™‚é–“è»¸äº‹ä»¶å‡½å¼
            onStart: function (p1, p2) {
                console.log(p1, p2)
            },
            onStartParams: ['æ™‚é–“è»¸é–‹å§‹æ’­æ”¾', 'Nemui'],
            onUpdate(p1, p2) {
                console.log(this.progress())
            },
            // onComplete(p1, p2, p3) {
            //      console.log(p1, p2, p3)
            // } 
            onComplete(...p1) {
                console.log(p1)
            },
            onCompleteParams: ['æ™‚é–“è»¸æ’¥æ”¾çµæŸ', 'hello', 'word']
        })

        tl4
            .to('.box13', { x: '+=100' })
            .to('.box14', { x: '+=150' })
            .to('.box15', { x: '+=200' })


        const tl5 = gsap.timeline({
            defaults: { duration: 3 },
            paused: true,
        })

        tl5
            .to('.box16', { x: 100 })
            .to('.box17', { x: 200 })
            .to('.box18', { x: 300 })

        $('#play').click(() => { tl5.play() })
        $('#pause').click(() => { tl5.pause() })
        $('#resume').click(() => { tl5.resume() })

        const tl6 = gsap.timeline({
            paused: true,
        })

        // ğŸ”—ï¼šhttps://gsap.com/docs/v3/GSAP/Timeline/#position-parameter-interactive-demo
        // 01. æ’å…¥çµ•å°ä½ç½®ï¼Œç›´æ¥å°‡ tween æ”¾åˆ°æ™‚é–“è»¸ç§’æ•¸çš„ä½ç½®
        // ex: .box21 æ”¾åˆ°æ™‚é–“è»¸ 6 ç§’çš„ä½ç½®
        tl6
            .to('.box19', { x: 500, duration: 1 })
            .to('.box20', { x: 500, duration: 1 })
            .to('.box21', { x: 500, duration: 1 }, 6)
            .to('.box22', { x: 500, duration: 1 }, 2)
            .to('.box23', { x: 500, duration: 1 }, 10)
            .to('.box24', { x: 500, duration: 1 }, 15)

        $('#play2').click(function () {
            tl6.play()
        })

    </script>
</body>

</html>