<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.css' />
    <title>GSAP</title>

    <style>
        body {
            padding-bottom: 500px;
        }

        h3 {
            margin: 20px 0;
        }

        hr {
            margin: 50px 0;
        }

        .wrap {
            width: 600px;
            height: 300px;
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
            background: rgb(241, 231, 211);
        }

        .box1,
        .box2,
        .box3,
        .box4,
        .box5,
        .box6,
        .box7 {
            width: 50px;
            height: 50px;
            background: #968e80;
            margin: 5px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h3>ğŸ¥¯ Stagger äº¤éŒ¯æ•ˆæœ</h3>
        <div class="wrap">
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
            <div class="box1"></div>
        </div>

        <hr>

        <h3>ğŸ¥¯ å‹•ç•«ç‹€æ…‹èˆ‡äº‹ä»¶å‡½å¼</h3>
        <div class="box2"></div>
        <div class="progress mb-3">
            <div class="progress-bar"></div>
        </div>
        <button id="btn1">play ç‹€æ…‹</button>
        <button id="btn2">pause æš«åœ</button>
        <button id="btn3">reversed ç‹€æ…‹</button>

        <hr>

        <h3>ğŸ¥¯ gsap.from() èˆ‡ gsap.fromTo()</h3>
        <br>
        <h4>ğŸ¥„ gsap.from()</h4>
        <p>æŒ‡å®šè£œé–“å‹•ç•«å¾è¨­å®šç‹€æ…‹åˆ°ç›®å‰ç‹€æ…‹ï¼Œå¸¸ç”¨æ–¼é€²å ´å‹•ç•«ã€‚</p>
        <div class="box3"></div>
        <br>
        <h4>ğŸ¥„ gsap.fromTo()</h4>
        <p>æŒ‡å®šè£œé–“å‹•ç•« from è¨­å®šç‹€æ…‹1 to è¨­å®šç‹€æ…‹2</p>
        <div class="box4"></div>


    </div>


    <!-- jquery -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js'></script>
    <!-- bootstrap -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js'></script>
    <!-- å¼•å…¥ GSAP -->
    <script src="./gsap/gsap.js"></script>

    <script>
        // StaggersğŸ”—ï¼šhttps://gsap.com/resources/getting-started/Staggers

        gsap.to('.box1', {
            y: 100,
            delay: 0.5,
            duration: 1,
            stagger: 0.1,           // æ¯å€‹å…ƒç´ å‹•ç•«äº¤éŒ¯çš„æ™‚é–“ç‚º 0.1 ç§’
            stagger: {
                each: 0.1,
                // from: 'center',     // å¯è¨­å®š startã€centerã€end
                from: 9,            // å¯ä»¥æŒ‡å®šç´¢å¼•ç‚ºé–‹å§‹ (ç´¢å¼•å¾ 0 é–‹å§‹)
                repeat: -1,
                yoyo: true,
                ease: 'bounce',     // è¨­å®šæ•´é«”äº¤éŒ¯å‹•ç•«çš„å‘ˆç¾é€Ÿç‡ï¼Œä¸æ˜¯æ¯å€‹å…ƒç´ çš„é€Ÿç‡
            },
            ease: 'elastic',        // è¨­å®šæ¯å€‹å…ƒç´ çš„å‹•ç•«é€Ÿç‡
            repeat: -1,
            yoyo: true,
        })


        // ------------------------------------------
        // https://gsap.com/docs/v3/GSAP/Tween/progress()

        const tween = gsap.to('.box2', {
            x: '80vw',
            duration: 5,
            yoyo: true,
            paused: true,
            reversed: false,
            ease: 'none',

            // âŒ ä¸å¯åœ¨ this æ™‚ä½¿ç”¨ç®­é ­å‡½å¼
            // ç®­é ­å‡½å¼ç„¡ä½œç”¨åŸŸï¼Œæœƒå°è‡´ this æŒ‡å‘ window
            // onStart: (p1, p2) => {
            //     console.log('start', this)
            // },

            // ğŸ”»è£œé–“å‹•ç•«é–‹å§‹æ™‚åŸ·è¡Œèª¿ç”¨çš„å‡½å¼
            // onStart: function (p1, p2) {
            //     console.log('start', p1, p2)
            // },
            onStart(p1, p2) {               // å¯çœç•¥ function
                console.log('start', this)
                console.log('start', p1, p2)
            },
            // ğŸ”»è£œé–“å‹•ç•«é–‹å§‹æ™‚ä½¿ç”¨çš„åƒæ•¸
            onStartParams: ['å‹•ç•«é–‹å§‹äº†', 'nemui'], // [p1, p2]

            // ğŸ”»å¯ä»¥å°‡å‡½å¼æå–å‡ºä¾†
            // onComplete: onComplete,
            onComplete,                 // åç¨±ä¸€æ¨£å¯ä»¥çœç•¥
            onCompleteParams: ['å‹•ç•«çµæŸäº†', 'nemui'],

            // ğŸ”»
            onUpdate(p1, p2) {
                // this æŒ‡å‘è£œé–“å‹•ç•«è‡ªå·±ï¼Œæ‰€ä»¥å¯ä»¥ç”¨è£œé–“å‹•ç•«çš„æ–¹æ³•
                // console.log(this.progress().toFixed(2))
                $('.progress-bar').css({
                    width: `${Math.floor(this.progress().toFixed(2) * 100)}%`,
                })
            }
        })

        function onComplete(p1, p2) {
            console.log('complete', p1, p2)
        }

        $('#btn1').click(function () {
            tween.play()
        })

        $('#btn2').click(function () {
            // getter
            console.log(tween.paused())
            // setter
            tween.paused(!(tween.paused()))
            // tween.paused(true)      // æš«åœ
            // tween.paused(false)     // æ’­æ”¾
        })

        $('#btn3').click(() => {
            // tween.reversed()                 // getter
            // tween.reversed(true)             // setter

            // console.log(tween.reversed())
            tween.reversed(!tween.reversed())
        })



        gsap.from('.box3', {
            x: -600,
            duration: 1,
        })

        // å‹•ç•«å±¬æ€§ä¾‹å¦‚ durationã€delayã€ease...è¨­å®šåœ¨ç¬¬äºŒå€‹ç‰©ä»¶ (ç¬¬ä¸‰åƒæ•¸)
        // gsap.fromTo('ç¬¬ä¸€åƒæ•¸', {ç¬¬äºŒåƒæ•¸ï½œç¬¬ä¸€ç‰©ä»¶}, {ç¬¬ä¸‰åƒæ•¸ï½œç¬¬äºŒç‰©ä»¶}}
        gsap.fromTo('.box4', {
            x: 1000
        }, {
            x: -100,
            duration: 3,
            delay: 3,
        })

    </script>
</body>

</html>